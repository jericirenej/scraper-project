(this["webpackJsonpscraper-react-trial"]=this["webpackJsonpscraper-react-trial"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(2),c=n(12),a=n.n(c),l=n(13),s=n(6),o=n(7),u=n(15),d=n(14),p=n(4),h=n(3),f=function(e){var t=e.urlValue,n=e.siteName,i=e.onSiteInputChange,c=e.urlProp,a=e.nameProp,l=e.siteNum,s=e.onSiteDelete;return Object(r.jsxs)("div",{className:"list wrapper",children:[Object(r.jsx)("div",{className:"list-name label",children:Object(r.jsx)("label",{children:"List name: "})}),Object(r.jsx)("div",{className:"list-name input",children:Object(r.jsx)("input",{type:"text",placeholder:"Enter a name",value:n,onChange:function(e){return i(e,a)}})}),Object(r.jsx)("div",{className:"list-URL label",children:Object(r.jsx)("label",{children:"URL: "})}),Object(r.jsx)("div",{className:"list-URL input",children:Object(r.jsx)("input",{type:"text",placeholder:"Enter URL address",value:t,onChange:function(e){return i(e,c)}})}),Object(r.jsx)("div",{className:"list-delete",children:l>1?Object(r.jsx)(h.c,{className:"deleteList button",title:"Delete the current sitemap.",onClick:s}):null})]})},j=n(9),b=function(e){var t=e.AddChild,n=e.AddSelector,i=e.Delete,c=e.siblings,a=e.parentType;return Object(r.jsxs)("div",{className:"selector-list controls",children:[Object(r.jsx)(j.a,{className:"addChildButton button",onClick:t,title:"Add a child selector."}),Object(r.jsx)(j.b,{className:"addSelectorButton button",title:"Add a new selector for this list.",onClick:n}),c>1||"sitemap"!==a?Object(r.jsx)(j.c,{className:"deleteSelectorButton button",title:"Recursively delete the current selector.",onClick:i}):null]})},m=function(e){var t=e.selectorID,n=e.onTypeChange;return Object(r.jsxs)("div",{className:"selector-list type",children:[Object(r.jsx)("label",{htmlFor:"selector-".concat(t),children:"Type"}),Object(r.jsxs)("select",{onChange:function(e){return n(e)},name:"selector-type-select",id:"selector-".concat(t),children:[Object(r.jsx)("option",{value:"",hidden:!0}),Object(r.jsx)("option",{value:"Link",children:"Link"}),Object(r.jsx)("option",{value:"Text",children:"Text"})]})]})},O=function(e){var t=e.selectorID,n=e.checkedStatus,i=e.onSelectorChange;return Object(r.jsxs)("div",{className:"selector-list multiple checkbox",children:[Object(r.jsx)("label",{htmlFor:"checkbox-".concat(t),children:"Multiple?"}),Object(r.jsx)("input",{type:"checkbox",onChange:function(e){return i(e)},id:"checkbox-".concat(t),checked:n})]})},x=function(e){var t=e.selectorID,n=e.onDeleteSelector,i=e.onSiteClear,c=e.onAddSelector,a=e.onAddChild,l=e.onSelectorChange,s=e.index,o=e.selectorValue,u=e.selectorName,d=e.namePrePend,p=e.siblings,f=e.children,j=e.parentType,x=e.position,v=e.checkedStatus;return Object(r.jsxs)("li",{className:"selector-list wrapper",id:"lineItem-".concat(t),children:[Object(r.jsx)("div",{className:"selector-list label",children:Object(r.jsxs)("label",{htmlFor:t,children:[d," ",s+1,":"," "]})}),Object(r.jsx)("div",{className:"selector-list name",id:"".concat(t,"-name"),children:Object(r.jsx)("input",{type:"text",value:u,placeholder:"Name",onChange:function(e){return l(e,"name")},id:s+1})}),Object(r.jsx)("div",{className:"selector-list input",id:"".concat(t,"-value"),children:Object(r.jsx)("input",{type:"text",value:o,placeholder:"Enter selector",onChange:function(e){return l(e,"value")},id:s+1})}),Object(r.jsx)(m,{selectorID:t,onTypeChange:function(e){return l(e,"type")}}),Object(r.jsx)(O,{selectorID:t,onSelectorChange:function(e){return l(e,"multiple")},checked:v}),Object(r.jsx)(b,{AddChild:a,AddSelector:c,Delete:n,siblings:p,parentType:j,position:x}),(p>1||f>=1)&&"sitemap"===j&&0===x?Object(r.jsx)(h.a,{className:"clearSiteMapButton button",title:"Clear all selectors.",onClick:i}):null]},"lineItem-".concat(t))},v=function(e){var t=e.onSiteInputChange,n=e.onSiteDelete,c=e.onSelectorChange,a=e.selectorProperty,l=e.onAddSelector,s=e.onAddChild,o=e.onDeleteSelector,u=e.onClearSiteMap,d=e.stateArray,p=d.filter((function(e){return"sitemap"===e.componentClass})),h=d.filter((function(e){return"selector"===e.componentClass}));function j(e,d,p){var h=d.parentOf.map((function(t){return e.filter((function(e){return e.id===t}))})).flat();if(h)return Object(r.jsxs)("ul",{id:d.id,className:"sitemap"===d.componentClass?"singleList":"",children:["sitemap"===d.componentClass?Object(r.jsx)(f,{urlValue:d.value,siteName:d.name,urlProp:"url",nameProp:"name",onSiteInputChange:function(e,n){return t(d.id,e.target.value,n)},onSiteDelete:function(){return n(d.id)},siteNum:p.length},"url--".concat(d.id)):null,h.map((function(t){return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(x,{selectorID:t.id,index:d.parentOf.findIndex((function(e){return e===t.id})),namePrePend:t.childOf[0]===t.memberOfSiteMap?"Selector":"Subsel.",siblings:d.parentOf.length,children:t.parentOf.length,parentType:d.componentClass,position:d.parentOf.findIndex((function(e){return e===t.id})),selectorName:a(t.id,"name"),selectorValue:a(t.id,"value"),onSelectorChange:function(e,n){return c(t.id,e.target.value,n)},checkedStatus:a(t.id,"multiple"),onAddSelector:function(){return l(d.id,d.parentOf.findIndex((function(e){return e===t.id})))},onAddChild:function(){return s(t.id)},onDeleteSelector:function(){return o(t.id)},onSiteClear:function(){return u(d)}},t.id),t.parentOf.length?Object(r.jsx)("ul",{children:j(e,t)},"".concat(t.id,"-children")):null]},"Fragment-".concat(t.id))}))]},d.id)}return Object(r.jsx)(i.Fragment,{children:p.map((function(e){return j(h,e,p)}))})},S=n(11),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.a)(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(s.a)(this,e),this.id=t,this.url="",this.componentClass="sitemap",this.name=n,this.parentOf=[]}return Object(o.a)(e,[{key:"updateSitemap",value:function(e,t){this[t]=e}}]),e}(),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.a)();Object(s.a)(this,e),this.id=n,this.name="",this.value="",this.multiple="",this.componentClass="selector",this.type="",this.memberOfSiteMap="",this.childOf=[t],this.parentOf=[]}return Object(o.a)(e,[{key:"updateSelector",value:function(e,t){this[t]=e}}]),e}();function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(p.a)();if(e.find((function(e){return e.id===r})))return console.log("Error: a child with this id already exists!");var i=e.filter((function(e){return e.id===t}))[0];if(!i)return console.log("Error: Parent does not exist!");var c=new C(t,r);if(void 0===n&&(n=i.parentOf.length?i.parentOf.length-1:0),n===i.parentOf.length-1||0===i.parentOf.length)i.parentOf.push(r);else{var a=[].concat(Object(S.a)(i.parentOf.slice(0,n+1)),[r],Object(S.a)(i.parentOf.slice(n+1)));i.parentOf=a}var l=function t(n){"sitemap"===n.componentClass?c.memberOfSiteMap=n.id:t(e.filter((function(e){return e.id===n.childOf[0]}))[0])};l(i),e.push(c),e.map((function(e){if(e.id===t)return i}))}function N(e,t){var n=[],r=1;return function e(t,i){var c=t.filter((function(e){return e.id===i}));if(n=t.filter((function(e){return e.id!==i})),1===r){var a=t.filter((function(e){return e.parentOf.includes(i)}));if(a.length){a=a[0];var l=t.findIndex((function(e){return e.parentOf.includes(i)}));a=a.parentOf.filter((function(e){return e!==i})),n[l].parentOf=a}}r++;var s=c.map((function(e){return e.parentOf})).flat();return s.length&&s.forEach((function(t){return e(n,t)})),n}(e,t)}n(21);var M=function(){return Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:"title-bar",children:[Object(r.jsx)("h1",{id:"main-title",className:"title",children:"CDS -"}),Object(r.jsxs)("div",{className:"main-subtitle",children:[Object(r.jsx)("h2",{className:"title inline-subtitle",children:"Compact Desktop Scraper"}),Object(r.jsx)("p",{children:"A work in progress"})]})]})})},k=[];k.push(new g("InitialMap","First Map")),y(k,"InitialMap",0,"First Selector");var I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={siteMaps:k},e.getProperty=function(t,n){var r=e.state.siteMaps,i=r.findIndex((function(e){return e.id===t}));return r[i][n]},e.onAddSelector=function(t,n){var r=e.state.siteMaps;y(r,t,n),e.setState({siteMaps:r})},e.addSiteMap=function(){var t=e.state.siteMaps,n=Object(p.a)();t.push(new g(n)),y(t,n),e.setState({siteMaps:t})},e.onDeleteItem=function(t){var n=e.state.siteMaps;n=N(n,t),e.setState({siteMaps:n})},e.clearSiteMap=function(t){var n,r=e.state.siteMaps,i=t.parentOf,c=Object(l.a)(i);try{for(c.s();!(n=c.n()).done;){r=N(r,n.value)}}catch(a){c.e(a)}finally{c.f()}y(r,t.id),e.setState({siteMaps:r})},e}return Object(o.a)(n,[{key:"handleSiteUpdate",value:function(e,t,n){var r=this.state.siteMaps,i=r.findIndex((function(t){return t.id===e}));r[i][n]=t,this.setState({siteMaps:r})}},{key:"render",value:function(){var e=this,t=this.state.siteMaps;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(M,{}),Object(r.jsxs)("div",{className:"list-container",children:[Object(r.jsx)(v,{stateArray:t,onSiteInputChange:function(t,n,r){return e.handleSiteUpdate(t,n,r)},onSiteDelete:function(t){return e.onDeleteItem(t)},onSelectorChange:function(t,n,r){return e.handleSiteUpdate(t,n,r)},selectorProperty:function(t,n){return e.getProperty(t,n)},toggleMultipleCheck:function(t){return e.handleMultipleCheckToggle(t)},onAddSelector:function(t,n){return e.onAddSelector(t,n)},onAddChild:function(t){return e.onAddSelector(t)},onDeleteSelector:function(t){return e.onDeleteItem(t)},onClearSiteMap:function(t){return e.clearSiteMap(t)}}),Object(r.jsx)(h.b,{className:"addNewList button",title:"Add another scraping list",onClick:function(){return e.addSiteMap()}})]})]})}}]),n}(i.Component);a.a.render(Object(r.jsx)(I,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a3a5e050.chunk.js.map