(this["webpackJsonpscraper-react-trial"]=this["webpackJsonpscraper-react-trial"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(2),c=n(12),l=n.n(c),a=n(13),s=n(6),o=n(7),u=n(15),d=n(14),p=n(4),h=n(3),f=function(e){var t=e.urlValue,n=e.siteName,r=e.onSiteInputChange,c=e.urlProp,l=e.nameProp,a=e.siteNum,s=e.onSiteDelete;return Object(i.jsxs)("div",{className:"list wrapper",children:[Object(i.jsx)("div",{className:"list-name label",children:Object(i.jsx)("label",{children:"List name: "})}),Object(i.jsx)("div",{className:"list-name input",children:Object(i.jsx)("input",{type:"text",placeholder:"Enter a name",value:n,onChange:function(e){return r(e,l)}})}),Object(i.jsx)("div",{className:"list-URL label",children:Object(i.jsx)("label",{children:"URL: "})}),Object(i.jsx)("div",{className:"list-URL input",children:Object(i.jsx)("input",{type:"text",placeholder:"Enter URL address",value:t,onChange:function(e){return r(e,c)}})}),Object(i.jsx)("div",{className:"list-delete",children:a>1?Object(i.jsx)(h.c,{className:"deleteList button",title:"Delete the current sitemap.",onClick:s}):null})]})},j=n(9),b=function(e){var t=e.AddChild,n=e.AddSelector,r=e.Delete,c=e.siblings,l=e.parentType;return Object(i.jsxs)("div",{className:"selector-list controls",children:[Object(i.jsx)(j.a,{className:"addChildButton button",onClick:t,title:"Add a child selector."}),Object(i.jsx)(j.b,{className:"addSelectorButton button",title:"Add a new selector for this list.",onClick:n}),c>1||"sitemap"!==l?Object(i.jsx)(j.c,{className:"deleteSelectorButton button",title:"Recursively delete the current selector.",onClick:r}):null]})},O=function(e){var t=e.selectorID,n=e.onTypeChange;return Object(i.jsxs)("div",{className:"selector-list type",children:[Object(i.jsx)("label",{htmlFor:"selector-".concat(t),children:"Type"}),Object(i.jsxs)("select",{onChange:function(e){return n(e)},name:"selector-type-select",id:"selector-".concat(t),children:[Object(i.jsx)("option",{value:"",hidden:!0}),Object(i.jsx)("option",{value:"Link",children:"Link"}),Object(i.jsx)("option",{value:"Text",children:"Text"})]})]})},m=function(e){var t=e.selectorID,n=e.checkedStatus,r=e.toggleMultiple;return Object(i.jsxs)("div",{className:"selector-list multiple checkbox",children:[Object(i.jsx)("label",{htmlFor:"checkbox-".concat(t),children:"Multiple?"}),Object(i.jsx)("input",{type:"checkbox",onChange:function(e){return r(e)},id:"checkbox-".concat(t),checked:n})]})},v=function(e){var t=e.selectorID,n=e.onDeleteSelector,r=e.onSiteClear,c=e.onAddSelector,l=e.onAddChild,a=e.onSelectorChange,s=e.index,o=e.selectorValue,u=e.namePrePend,d=e.siblings,p=e.children,f=e.parentType,j=e.position,v=e.toggleMultiple,x=e.checkedStatus,g=e.onTypeChange;return Object(i.jsxs)("li",{className:"selector-list wrapper",id:"lineItem-".concat(t),children:[Object(i.jsx)("div",{className:"selector-list label",children:Object(i.jsxs)("label",{htmlFor:t,children:[u," ",s+1,":"," "]})}),Object(i.jsx)("div",{className:"selector-list input",id:t,children:Object(i.jsx)("input",{type:"text",value:o,placeholder:"Enter selector",onChange:function(e){return a(e)},id:s+1})}),Object(i.jsx)(O,{selectorID:t,onTypeChange:function(e){return g(e)}}),Object(i.jsx)(m,{selectorID:t,toggleMultiple:function(e){return v(e)},checked:x}),Object(i.jsx)(b,{AddChild:l,AddSelector:c,Delete:n,siblings:d,parentType:f,position:j}),(d>1||p>=1)&&"sitemap"===f&&0===j?Object(i.jsx)(h.a,{className:"clearSiteMapButton button",title:"Clear all selectors.",onClick:r}):null]},"lineItem-".concat(t))},x=function(e){var t=e.onSiteInputChange,n=e.onSiteDelete,c=e.onSelectorChange,l=e.selectorProperty,a=e.onAddSelector,s=e.onAddChild,o=e.onDeleteSelector,u=e.onClearSiteMap,d=e.stateArray,p=d.filter((function(e){return"sitemap"===e.componentClass})),h=d.filter((function(e){return"selector"===e.componentClass}));function j(e,d,p){var h=d.parentOf.map((function(t){return e.filter((function(e){return e.id===t}))})).flat();if(h)return Object(i.jsxs)("ul",{id:d.id,className:"sitemap"===d.componentClass?"singleList":"",children:["sitemap"===d.componentClass?Object(i.jsx)(f,{urlValue:d.value,siteName:d.name,urlProp:"url",nameProp:"name",onSiteInputChange:function(e,n){return t(d.id,e.target.value,n)},onSiteDelete:function(){return n(d.id)},siteNum:p.length},"url--".concat(d.id)):null,h.map((function(t){return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)(v,{selectorID:t.id,index:d.parentOf.findIndex((function(e){return e===t.id})),namePrePend:t.childOf[0]===t.memberOfSiteMap?"Selector":"Subsel.",siblings:d.parentOf.length,children:t.parentOf.length,parentType:d.componentClass,position:d.parentOf.findIndex((function(e){return e===t.id})),selectorValue:l(t.id,"value"),onSelectorChange:function(e){return c(t.id,e.target.value,"value")},toggleMultiple:function(e){return c(t.id,e.target.checked,"multiple")},checkedStatus:l(t.id,"multiple"),onTypeChange:function(e){return c(t.id,e.target.value,"type")},onAddSelector:function(){return a(d.id,d.parentOf.findIndex((function(e){return e===t.id})))},onAddChild:function(){return s(t.id)},onDeleteSelector:function(){return o(t.id)},onSiteClear:function(){return u(d)}},t.id),t.parentOf.length?Object(i.jsx)("ul",{children:j(e,t)},"".concat(t.id,"-children")):null]},"Fragment-".concat(t.id))}))]},d.id)}return Object(i.jsx)(r.Fragment,{children:p.map((function(e){return j(h,e,p)}))})},g=n(11),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.a)(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(s.a)(this,e),this.id=t,this.url="",this.componentClass="sitemap",this.name=n,this.parentOf=[]}return Object(o.a)(e,[{key:"updateSitemap",value:function(e,t){this[t]=e}}]),e}(),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(p.a)();Object(s.a)(this,e),this.id=n,this.value="",this.multiple="",this.componentClass="selector",this.type="",this.memberOfSiteMap="",this.childOf=[t],this.parentOf=[]}return Object(o.a)(e,[{key:"updateSelector",value:function(e,t){this[t]=e,this.Selector=this}}]),e}();function y(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(p.a)();if(e.find((function(e){return e.id===i})))return console.log("Error: a child with this id already exists!");var r=e.filter((function(e){return e.id===t}))[0];if(!r)return console.log("Error: Parent does not exist!");var c=new C(t,i);if(void 0===n&&(n=r.parentOf.length?r.parentOf.length-1:0),n===r.parentOf.length-1||0===r.parentOf.length)r.parentOf.push(i);else{var l=[].concat(Object(g.a)(r.parentOf.slice(0,n+1)),[i],Object(g.a)(r.parentOf.slice(n+1)));r.parentOf=l}var a=function t(n){"sitemap"===n.componentClass?c.memberOfSiteMap=n.id:t(e.filter((function(e){return e.id===n.childOf[0]}))[0])};a(r),e.push(c),e.map((function(e){if(e.id===t)return r}))}function M(e,t){var n=[],i=1;return function e(t,r){var c=t.filter((function(e){return e.id===r}));if(n=t.filter((function(e){return e.id!==r})),1===i){var l=t.filter((function(e){return e.parentOf.includes(r)}));if(l.length){l=l[0];var a=t.findIndex((function(e){return e.parentOf.includes(r)}));l=l.parentOf.filter((function(e){return e!==r})),n[a].parentOf=l}}i++;var s=c.map((function(e){return e.parentOf})).flat();return s.length&&s.forEach((function(t){return e(n,t)})),n}(e,t)}n(21);var N=function(){return Object(i.jsx)("header",{children:Object(i.jsxs)("div",{className:"title-bar",children:[Object(i.jsx)("h1",{id:"main-title",className:"title",children:"CDS -"}),Object(i.jsxs)("div",{className:"main-subtitle",children:[Object(i.jsx)("h2",{className:"title inline-subtitle",children:"Compact Desktop Scraper"}),Object(i.jsx)("p",{children:"A work in progress"})]})]})})},k=[];k.push(new S("InitialMap","First Map")),y(k,"InitialMap",0,"First Selector");var I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={siteMaps:k},e.getProperty=function(t,n){var i=e.state.siteMaps,r=i.findIndex((function(e){return e.id===t}));return i[r][n]},e.onAddSelector=function(t,n){var i=e.state.siteMaps;y(i,t,n),e.setState({siteMaps:i})},e.addSiteMap=function(){var t=e.state.siteMaps,n=Object(p.a)();t.push(new S(n)),y(t,n),e.setState({siteMaps:t})},e.onDeleteItem=function(t){var n=e.state.siteMaps;n=M(n,t),e.setState({siteMaps:n})},e.clearSiteMap=function(t){var n,i=e.state.siteMaps,r=t.parentOf,c=Object(a.a)(r);try{for(c.s();!(n=c.n()).done;){i=M(i,n.value)}}catch(l){c.e(l)}finally{c.f()}y(i,t.id),e.setState({siteMaps:i})},e}return Object(o.a)(n,[{key:"handleSiteUpdate",value:function(e,t,n){var i=this.state.siteMaps,r=i.findIndex((function(t){return t.id===e}));i[r][n]=t,this.setState({siteMaps:i})}},{key:"render",value:function(){var e=this,t=this.state.siteMaps;return Object(i.jsxs)(r.Fragment,{children:[Object(i.jsx)(N,{}),Object(i.jsxs)("div",{className:"list-container",children:[Object(i.jsx)(x,{stateArray:t,onSiteInputChange:function(t,n,i){return e.handleSiteUpdate(t,n,i)},onSiteDelete:function(t){return e.onDeleteItem(t)},onSelectorChange:function(t,n,i){return e.handleSiteUpdate(t,n,i)},selectorProperty:function(t,n){return e.getProperty(t,n)},toggleMultipleCheck:function(t){return e.handleMultipleCheckToggle(t)},onAddSelector:function(t,n){return e.onAddSelector(t,n)},onAddChild:function(t){return e.onAddSelector(t)},onDeleteSelector:function(t){return e.onDeleteItem(t)},onClearSiteMap:function(t){return e.clearSiteMap(t)}}),Object(i.jsx)(h.b,{className:"addNewList button",title:"Add another scraping list",onClick:function(){return e.addSiteMap()}})]})]})}}]),n}(r.Component);l.a.render(Object(i.jsx)(I,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0c3d7899.chunk.js.map